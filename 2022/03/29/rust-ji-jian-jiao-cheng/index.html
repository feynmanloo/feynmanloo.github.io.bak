<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Rust极简教程, Ghost空间">
    <meta name="description" content="简介Rust是一门赋予每个人构建可靠且高效软件能力的编程语言。可靠主要体现在安全性上。其高效不仅限于开发效率，它的执行效率也是令人称赞的，是一种少有的兼顾开发效率和执行效率的语言。Rust 语言由 Mozilla 开发，最早发布于 2014">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Rust极简教程 | Ghost空间</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Ghost空间" type="application/atom+xml">
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Ghost空间</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Ghost空间</div>
        <div class="logo-desc">
            
            No Code Is The Best Code.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/5.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Rust极简教程</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/rust/">
                                <span class="chip bg-color">rust</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" class="post-category">
                                编程语言
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-03-29
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Rust是一门赋予每个人构建可靠且高效软件能力的编程语言。可靠主要体现在安全性上。其高效不仅限于开发效率，它的执行效率也是令人称赞的，是一种少有的兼顾开发效率和执行效率的语言。Rust 语言由 Mozilla 开发，最早发布于 2014 年 9 月。Rust 的编译器是在 MIT License 和 Apache License 2.0 双重协议声明下的免费开源软件。</p>
<p><a target="_blank" rel="noopener" href="https://img2022.cnblogs.com/blog/718864/202203/718864-20220322225451146-1012328002.png"><img src="https://s2.loli.net/2022/03/29/2JpYbRokW7CqSQd.png" alt="img"></a></p>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><ul>
<li>高性能：Rust 速度惊人且内存利用率极高。由于没有运行时和垃圾回收，它能够胜任对性能要求特别高的服务，可以在嵌入式设备上运行，还能轻松和其他语言集成。</li>
<li>可靠性：Rust 丰富的类型系统和所有权模型保证了内存安全和线程安全，让您在编译期就能够消除各种各样的错误。</li>
<li>生产力：Rust 拥有出色的文档、友好的编译器和清晰的错误提示信息， 还集成了一流的工具——包管理器和构建工具， 智能地自动补全和类型检验的多编辑器支持， 以及自动格式化代码等等。</li>
<li>Rustacean：使用 rust 的攻城狮不叫 ruster 而是叫 Rustacean ，咱也不知道为什么，书上就是这么说的。</li>
</ul>
<h2 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h2><ul>
<li>作为一门编程语言，rust既可以分类为面向过程编程语言，也可以分类为面向对象编程语言</li>
<li>rust拥有精细化的基础数据结构</li>
<li>rust中支持泛型，并且拥有泛型枚举</li>
<li>rust中支持接口，甚至支持接口默认方法，并且接口既可以作为方法入参也可以作为方法出参</li>
</ul>
<h2 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h2><ul>
<li>传统命令行程序</li>
<li>嵌入式</li>
<li>网络服务</li>
<li>WebAssembly</li>
<li>Web服务</li>
<li>……</li>
</ul>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><blockquote>
<p>以 windows 11 为例</p>
</blockquote>
<p>下载 rustup-init.exe ，双击此可执行程序会打开一个命令行程序，此程序引导安装，具体安装过程：</p>
<pre class="line-numbers language-vhdl" data-language="vhdl"><code class="language-vhdl">Rust Visual C<span class="token operator">+</span><span class="token operator">+</span> prerequisites

Rust requires the Microsoft C<span class="token operator">+</span><span class="token operator">+</span> build tools <span class="token keyword">for</span> Visual Studio <span class="token number">2013</span> <span class="token operator">or</span>
later<span class="token punctuation">,</span> but they don't seem <span class="token keyword">to</span> be installed<span class="token punctuation">.</span>

The easiest way <span class="token keyword">to</span> acquire the build tools <span class="token keyword">is</span> by installing Microsoft
Visual C<span class="token operator">+</span><span class="token operator">+</span> Build Tools <span class="token number">2019</span> which provides just the Visual C<span class="token operator">+</span><span class="token operator">+</span> build
tools<span class="token punctuation">:</span>

  https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>visualstudio<span class="token punctuation">.</span>microsoft<span class="token punctuation">.</span>com<span class="token operator">/</span>visual<span class="token operator">-</span>cpp<span class="token operator">-</span>build<span class="token operator">-</span>tools<span class="token operator">/</span>

Please ensure the Windows <span class="token number">10</span> SDK <span class="token operator">and</span> the English language pack components
are included <span class="token keyword">when</span> installing the Visual C<span class="token operator">+</span><span class="token operator">+</span> Build Tools<span class="token punctuation">.</span>

Alternately<span class="token punctuation">,</span> you can install Visual Studio <span class="token number">2019</span><span class="token punctuation">,</span> Visual Studio <span class="token number">2017</span><span class="token punctuation">,</span>
Visual Studio <span class="token number">2015</span><span class="token punctuation">,</span> <span class="token operator">or</span> Visual Studio <span class="token number">2013</span> <span class="token operator">and</span> during install <span class="token keyword">select</span>
the <span class="token string">"C++ tools"</span><span class="token punctuation">:</span>

  https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>visualstudio<span class="token punctuation">.</span>microsoft<span class="token punctuation">.</span>com<span class="token operator">/</span>downloads<span class="token operator">/</span>

Install the C<span class="token operator">+</span><span class="token operator">+</span> build tools before proceeding<span class="token punctuation">.</span>

<span class="token keyword">If</span> you will be targeting the GNU ABI <span class="token operator">or</span> otherwise know what you are
doing <span class="token keyword">then</span> it <span class="token keyword">is</span> fine <span class="token keyword">to</span> continue installation without the build
tools<span class="token punctuation">,</span> but otherwise<span class="token punctuation">,</span> install the C<span class="token operator">+</span><span class="token operator">+</span> build tools before proceeding<span class="token punctuation">.</span>

Continue? <span class="token punctuation">(</span>y<span class="token operator">/</span>N<span class="token punctuation">)</span> y


Welcome <span class="token keyword">to</span> Rust!

This will download <span class="token operator">and</span> install the official compiler <span class="token keyword">for</span> the Rust
programming language<span class="token punctuation">,</span> <span class="token operator">and</span> its <span class="token keyword">package</span> manager<span class="token punctuation">,</span> Cargo<span class="token punctuation">.</span>

Rustup metadata <span class="token operator">and</span> toolchains will be installed into the Rustup
home directory<span class="token punctuation">,</span> located at<span class="token punctuation">:</span>

  C<span class="token punctuation">:</span>\Users\cml\<span class="token punctuation">.</span>rustup

This can be modified <span class="token keyword">with</span> the RUSTUP_HOME environment <span class="token keyword">variable</span><span class="token punctuation">.</span>

The Cargo home directory located at<span class="token punctuation">:</span>

  C<span class="token punctuation">:</span>\Users\cml\<span class="token punctuation">.</span>cargo

This can be modified <span class="token keyword">with</span> the CARGO_HOME environment <span class="token keyword">variable</span><span class="token punctuation">.</span>

The cargo<span class="token punctuation">,</span> rustc<span class="token punctuation">,</span> rustup <span class="token operator">and</span> other commands will be added <span class="token keyword">to</span>
Cargo's bin directory<span class="token punctuation">,</span> located at<span class="token punctuation">:</span>

  C<span class="token punctuation">:</span>\Users\cml\<span class="token punctuation">.</span>cargo\bin

This path will <span class="token keyword">then</span> be added <span class="token keyword">to</span> your PATH environment <span class="token keyword">variable</span> by
modifying the HKEY_CURRENT_USER<span class="token operator">/</span>Environment<span class="token operator">/</span>PATH registry key<span class="token punctuation">.</span>

You can uninstall at any time <span class="token keyword">with</span> rustup self uninstall <span class="token operator">and</span>
these changes will be reverted<span class="token punctuation">.</span>

Current installation options<span class="token punctuation">:</span>


   default host triple<span class="token punctuation">:</span> x86_64<span class="token operator">-</span>pc<span class="token operator">-</span>windows<span class="token operator">-</span>msvc
     default toolchain<span class="token punctuation">:</span> stable <span class="token punctuation">(</span>default<span class="token punctuation">)</span>
               profile<span class="token punctuation">:</span> default
  modify PATH <span class="token keyword">variable</span><span class="token punctuation">:</span> yes

<span class="token number">1</span><span class="token punctuation">)</span> Proceed <span class="token keyword">with</span> installation <span class="token punctuation">(</span>default<span class="token punctuation">)</span>
<span class="token number">2</span><span class="token punctuation">)</span> Customize installation
<span class="token number">3</span><span class="token punctuation">)</span> Cancel installation
<span class="token operator">&gt;</span>

info<span class="token punctuation">:</span> profile set <span class="token keyword">to</span> 'default'
info<span class="token punctuation">:</span> default host triple <span class="token keyword">is</span> x86_64<span class="token operator">-</span>pc<span class="token operator">-</span>windows<span class="token operator">-</span>msvc
info<span class="token punctuation">:</span> syncing channel updates <span class="token keyword">for</span> 'stable<span class="token operator">-</span>x86_64<span class="token operator">-</span>pc<span class="token operator">-</span>windows<span class="token operator">-</span>msvc'
info<span class="token punctuation">:</span> latest update <span class="token keyword">on</span> <span class="token number">2022</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> rust version <span class="token number">1.58.1</span> <span class="token punctuation">(</span>db9d1b20b <span class="token number">2022</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span>
info<span class="token punctuation">:</span> downloading <span class="token keyword">component</span> 'cargo'
  <span class="token number">3.8</span> MiB <span class="token operator">/</span>   <span class="token number">3.8</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span>   <span class="token number">1.7</span> MiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">2</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> downloading <span class="token keyword">component</span> 'clippy'
  <span class="token number">1.6</span> MiB <span class="token operator">/</span>   <span class="token number">1.6</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span>   <span class="token number">1.5</span> MiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">1</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> downloading <span class="token keyword">component</span> 'rust<span class="token operator">-</span>docs'
 <span class="token number">18.8</span> MiB <span class="token operator">/</span>  <span class="token number">18.8</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span>   <span class="token number">3.3</span> MiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">5</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> downloading <span class="token keyword">component</span> 'rust<span class="token operator">-</span>std'
 <span class="token number">22.9</span> MiB <span class="token operator">/</span>  <span class="token number">22.9</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span>   <span class="token number">3.2</span> MiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">7</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> downloading <span class="token keyword">component</span> 'rustc'
 <span class="token number">65.2</span> MiB <span class="token operator">/</span>  <span class="token number">65.2</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span> <span class="token number">493.2</span> KiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">1</span>m <span class="token number">14</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> downloading <span class="token keyword">component</span> 'rustfmt'
  <span class="token number">2.2</span> MiB <span class="token operator">/</span>   <span class="token number">2.2</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span> <span class="token number">631.2</span> KiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">3</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> installing <span class="token keyword">component</span> 'cargo'
info<span class="token punctuation">:</span> installing <span class="token keyword">component</span> 'clippy'
info<span class="token punctuation">:</span> installing <span class="token keyword">component</span> 'rust<span class="token operator">-</span>docs'
 <span class="token number">18.8</span> MiB <span class="token operator">/</span>  <span class="token number">18.8</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span>   <span class="token number">1.9</span> MiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">6</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> installing <span class="token keyword">component</span> 'rust<span class="token operator">-</span>std'
 <span class="token number">22.9</span> MiB <span class="token operator">/</span>  <span class="token number">22.9</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span>  <span class="token number">10.5</span> MiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">2</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> installing <span class="token keyword">component</span> 'rustc'
 <span class="token number">65.2</span> MiB <span class="token operator">/</span>  <span class="token number">65.2</span> MiB <span class="token punctuation">(</span><span class="token number">100</span> %<span class="token punctuation">)</span>  <span class="token number">12.2</span> MiB<span class="token operator">/</span>s <span class="token keyword">in</span>  <span class="token number">5</span>s ETA<span class="token punctuation">:</span>  <span class="token number">0</span>s
info<span class="token punctuation">:</span> installing <span class="token keyword">component</span> 'rustfmt'
info<span class="token punctuation">:</span> default toolchain set <span class="token keyword">to</span> 'stable<span class="token operator">-</span>x86_64<span class="token operator">-</span>pc<span class="token operator">-</span>windows<span class="token operator">-</span>msvc'

  stable<span class="token operator">-</span>x86_64<span class="token operator">-</span>pc<span class="token operator">-</span>windows<span class="token operator">-</span>msvc installed <span class="token operator">-</span> rustc <span class="token number">1.58.1</span> <span class="token punctuation">(</span>db9d1b20b <span class="token number">2022</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span>


Rust <span class="token keyword">is</span> installed now<span class="token punctuation">.</span> Great!

<span class="token keyword">To</span> get started you may need <span class="token keyword">to</span> restart your current shell<span class="token punctuation">.</span>
This would reload its PATH environment <span class="token keyword">variable</span> <span class="token keyword">to</span> include
Cargo's bin directory <span class="token punctuation">(</span>%USERPROFILE%\<span class="token punctuation">.</span>cargo\bin<span class="token punctuation">)</span><span class="token punctuation">.</span>

Press the Enter key <span class="token keyword">to</span> continue<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="核心组件"><a href="#核心组件" class="headerlink" title="核心组件"></a>核心组件</h1><ul>
<li>rustup：安装、更新rust用的，rustup doc 可查看安装包中的官方指导文档</li>
<li>cargo：包管理器和编译源代码工具</li>
<li>rustc：将rust源文件编译成可执行程序</li>
<li>rustdoc：为rust项目生成说明文档</li>
</ul>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><table>
<thead>
<tr>
<th align="left">命令</th>
<th align="left">说明</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left">rustup doc</td>
<td align="left">打开官方指导文档</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cargo new projectName</td>
<td align="left">创建一个rust工程</td>
<td align="left">示例：cargo new firstRustProject</td>
</tr>
<tr>
<td align="left">cargo run</td>
<td align="left">运行rust工程</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">cargo build</td>
<td align="left">编译rust工程</td>
<td align="left">若增加了依赖，即修改了toml文件，需要重新编译</td>
</tr>
</tbody></table>
<h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><ul>
<li>fn 声明函数</li>
<li>let 声明变量，变量默认不可变，加 mut 的变量为可变变量</li>
<li>虽然所有变量声明都用let关键字，但是rust是强类型的语言，内置了强大的类型推导</li>
<li>函数参数：参数名:参数数据类型</li>
<li>变量重影性质：同一个名称可以被多个变量使用，后面的变量会覆盖前面的变量</li>
<li>const 声明常量</li>
<li>//注释一行，/**/注释多行</li>
<li>使用英文分号换行</li>
</ul>
<p>示例：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//变量默认是不可变的，加上 mut 关键字就可以重新赋值。</span>
       <span class="token keyword">let</span> <span class="token keyword">mut</span>  x<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
       <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of x is   {}  "</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
       x<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">;</span>
       <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The value of x is   {}  "</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   
       <span class="token comment">//变量的隐藏</span>
       <span class="token keyword">let</span>  money<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>
       <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"money is {}"</span><span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">let</span> money <span class="token operator">=</span>money<span class="token operator">+</span><span class="token number">8</span><span class="token punctuation">;</span>
       <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"money is {}"</span><span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">let</span> money<span class="token operator">=</span><span class="token string">"一百元"</span><span class="token punctuation">;</span>
       <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"money is {}"</span><span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
   
       <span class="token comment">//常量使用 const 关键字声明，声明的时候必须指定数据类型，常量名全大写。</span>
       <span class="token comment">//不需要let ， 不可使用mut 修饰</span>
       <span class="token keyword">const</span> <span class="token constant">MAX_PIONTS</span><span class="token punctuation">:</span> <span class="token keyword">u32</span><span class="token operator">=</span><span class="token number">888</span><span class="token punctuation">;</span>
       <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The constant is {}"</span><span class="token punctuation">,</span><span class="token constant">MAX_PIONTS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       
    <span class="token keyword">let</span>  result<span class="token punctuation">:</span><span class="token keyword">char</span><span class="token operator">=</span> <span class="token function">a_function</span><span class="token punctuation">(</span><span class="token number">88</span><span class="token punctuation">,</span> <span class="token char">'M'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"result is {}"</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function-definition function">a_function</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span><span class="token keyword">u64</span><span class="token punctuation">,</span>b<span class="token punctuation">:</span><span class="token keyword">char</span><span class="token punctuation">,</span>c<span class="token punctuation">:</span><span class="token keyword">bool</span><span class="token punctuation">)</span><span class="token punctuation">-&gt;</span> <span class="token keyword">char</span><span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"a is {}"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"b is {}"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"c is {}"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span>  <span class="token char">'N'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>输出：</p>
<pre class="line-numbers language-vhdl" data-language="vhdl"><code class="language-vhdl">Hello<span class="token punctuation">,</span> world!
The value <span class="token keyword">of</span> x <span class="token keyword">is</span>   <span class="token number">5</span>
The value <span class="token keyword">of</span> x <span class="token keyword">is</span>   <span class="token number">6</span>
money <span class="token keyword">is</span> <span class="token number">100</span>
money <span class="token keyword">is</span> <span class="token number">108</span>
money <span class="token keyword">is</span> 一百元
The <span class="token keyword">constant</span> <span class="token keyword">is</span> <span class="token number">888</span>
a <span class="token keyword">is</span> <span class="token number">88</span>
b <span class="token keyword">is</span> M
c <span class="token keyword">is</span> <span class="token boolean">false</span>
result <span class="token keyword">is</span> N<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="标量类型"><a href="#标量类型" class="headerlink" title="标量类型"></a>标量类型</h3><p>整数，浮点，布尔，字符</p>
<ul>
<li>整数：i8,u8,i16,u16,i32,u32,i64,u64,i128,u128,isize,usize<ul>
<li>i表示有符号</li>
<li>u表示无符号</li>
<li>isize 和 usize 两种整数类型是用来衡量数据大小的，它们的位长度取决于所运行的目标平台，如果是 32 位架构的处理器将使用 32 位位长度整型。</li>
</ul>
</li>
<li>浮点：f32,f64</li>
</ul>
<h3 id="复合类型"><a href="#复合类型" class="headerlink" title="复合类型"></a>复合类型</h3><p>可以将多个值放到一个数据类型中。</p>
<ul>
<li>元组-tuple。长度固定，元素的数据类型可以不同</li>
<li>数组，长度固定，元素的数据类型必须相同</li>
<li>Vector：不是标准库提供的。和数组类似，长度可变</li>
</ul>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> q<span class="token operator">=</span><span class="token number">3.0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> q<span class="token punctuation">:</span><span class="token keyword">f32</span><span class="token operator">=</span><span class="token number">5.00</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> w<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> r<span class="token punctuation">:</span><span class="token keyword">bool</span> <span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
 
    <span class="token keyword">let</span> t<span class="token operator">=</span>'🔣'<span class="token punctuation">;</span>
    <span class="token keyword">let</span> tup <span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">i32</span><span class="token punctuation">,</span><span class="token keyword">u64</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">88</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"元素1：{},元素2：{},元素3：{}"</span><span class="token punctuation">,</span>tup<span class="token number">.0</span> <span class="token punctuation">,</span> tup<span class="token number">.1</span><span class="token punctuation">,</span> tup<span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token keyword">u64</span><span class="token punctuation">;</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr2<span class="token operator">=</span><span class="token punctuation">[</span><span class="token char">'E'</span><span class="token punctuation">;</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"arr piont 2  is :{}"</span><span class="token punctuation">,</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"arr2 piont 2  is :{}"</span><span class="token punctuation">,</span>arr2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//Vector：todo</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><p>和大多数编程语言一样， if - else if - else 表示条件语句，在 if 后面不用加括号。</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//条件语句</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b<span class="token punctuation">;</span>
    <span class="token keyword">if</span> a <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> a <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"b is {}"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//三元运算符</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token keyword">if</span> x <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"number 为 {}"</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><ul>
<li>while</li>
<li>for</li>
<li>loop：终止循环，并返回一个值</li>
</ul>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//循环</span>
    <span class="token comment">//while</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> number <span class="token operator">!=</span> <span class="token number">4</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{}"</span><span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
        number <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"while cycle  EXIT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//for - 迭代器</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> a<span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"元素值为 : {}"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"for-iter cycle  EXIT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//for - 下标</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> length <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"b 数组的长度是:{}"</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span>length <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"b[{}] = {}"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"for-index cycle  EXIT"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//loop 终止循环，并返回一个值</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token char">'R'</span><span class="token punctuation">,</span> <span class="token char">'U'</span><span class="token punctuation">,</span> <span class="token char">'N'</span><span class="token punctuation">,</span>  <span class="token char">'O'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> location <span class="token operator">=</span> <span class="token keyword">loop</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> ch <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> ch <span class="token operator">==</span> <span class="token char">'B'</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">" \'B\' 的索引为 {}"</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="输出-amp-输入"><a href="#输出-amp-输入" class="headerlink" title="输出&amp;输入"></a>输出&amp;输入</h2><h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token builtin">println</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">"print a  small =_=*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="输出花括号"><a href="#输出花括号" class="headerlink" title="输出花括号"></a>输出花括号</h4><p>花括号中套花括号就可以输出花括号<br>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">let</span> <span class="token keyword">mut</span> name <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"输出中带花括号:{{  {}  }}"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">输出中带花括号:</span><span class="token punctuation">{</span>  cml  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="输出非基础类型"><a href="#输出非基础类型" class="headerlink" title="输出非基础类型"></a>输出非基础类型</h4><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token builtin">println</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">"输出一个结构体，a={:?}"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">let</span> <span class="token keyword">mut</span> guess <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token namespace">io<span class="token punctuation">::</span></span><span class="token function">stdin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">read_line</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> guess<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token string">"无法读取行"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h1 id="所有权"><a href="#所有权" class="headerlink" title="所有权"></a>所有权</h1><p>所有权可以理解为命名空间+作用域+指针。</p>
<ul>
<li>基本数据类型（值类型）变量在栈空间中可以复制。先给x赋值9(let x = 9)，将x赋值给y等同于直接给y赋值9（let y = x 等同于let y = 9）</li>
<li>引用类型变量在堆空间中的“值引用”可以复制，但是存储在栈空间的“值”不可复制。因此，引用类型变量仅可被消费一次</li>
<li>引用类型变量可以通过“克隆”的方式复制</li>
<li>特殊的数据类型—&gt;类型的引用（即指针），使用 &amp; 关键字表示<ul>
<li>指针存放在栈中，便于理解可以将指针看作“特殊的值类型”</li>
<li>被借用的不可变变量，不可再借用给其他人</li>
<li>指针类型的不可变变量，不可被修改</li>
<li>值类型（基本数据类型）变量也可以使用指针，但是一般不建议这样使用</li>
</ul>
</li>
<li>可变变量也可以有指针</li>
<li>rust中不允许出现空指针</li>
</ul>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//01.基本数据类型（值类型）变量在栈空间中可以复制。先给x赋值9(let x = 9)，将x赋值给y等同于直接给y赋值9（let y = x 等同于let y = 9）</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token comment">//x is :9 , y is :9</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"x is :{0} , y is :{1}"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> c1 <span class="token operator">=</span> <span class="token char">'M'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> c2 <span class="token operator">=</span> c1<span class="token punctuation">;</span>
    <span class="token comment">//c1 is :M , c2 is :M</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"c1 is :{0} , c2 is :{1}"</span><span class="token punctuation">,</span> c1<span class="token punctuation">,</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//02.引用类型变量在堆空间中的“值引用”可以复制，但是存储在栈空间的“值”不可复制。因此，引用类型变量仅可被消费一次。</span>
    <span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">;</span>
    <span class="token comment">//编译错误：use of moved value: `s1`</span>
    <span class="token comment">//let s3 = s1;</span>
    <span class="token comment">//编译错误：borrow of moved value: `s1`</span>
    <span class="token comment">//println!("s1 is :{0} , s2 is :{1}", s1, s2);</span>
    <span class="token comment">//03.引用类型变量可以通过“克隆”的方式复制。</span>
    <span class="token keyword">let</span> h1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> h2 <span class="token operator">=</span> h1<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> h3 <span class="token operator">=</span> h1<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//h1 = hello, h2 = hello , h3 is :hello</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"h1 = {}, h2 = {} , h3 is :{}"</span><span class="token punctuation">,</span> h1<span class="token punctuation">,</span> h2<span class="token punctuation">,</span> h3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//04.特殊的数据类型---&gt;类型的引用（即指针），使用 &amp; 关键字表示</span>
    <span class="token keyword">let</span> k1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//k1为String类型：std::String::String ; k2 为带String类型的指针类型：&amp;std::String:String</span>
    <span class="token keyword">let</span> k2 <span class="token operator">=</span> <span class="token operator">&amp;</span>k1<span class="token punctuation">;</span>
    <span class="token keyword">let</span> k3 <span class="token operator">=</span> k2<span class="token punctuation">;</span>
    <span class="token comment">//指针存放在栈中，便于理解可以将指针看作“特殊的值类型”。所以虽然k2已经赋值给了k3，任然可以赋值给k4。</span>
    <span class="token keyword">let</span> k4 <span class="token operator">=</span> k2<span class="token punctuation">;</span>
    <span class="token comment">//k1无法赋值给k5，因为k1已经被借用了。这是出于安全考虑，试想如果多个人都可以借用k1，意味着多个人可以修改k1，那势必对正在使用它的人正在进行的工作产生影响</span>
    <span class="token comment">// let k5 = k1;</span>
    <span class="token comment">//编译错误：`k2` is a `&amp;` reference, so the data it refers to cannot be borrowed as mutable</span>
    <span class="token comment">//既然k2是指针类型，那么就不允许被修改，因为k2的“值”本身是借来的，如果修改了，那么势必对正在使用它的人正在进行的工作产生影响</span>
    <span class="token comment">//k2.push_str("world");</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"k1 is {}, k2 is {}, k3 is :{} , k4 is : {}"</span><span class="token punctuation">,</span> k1<span class="token punctuation">,</span> k2<span class="token punctuation">,</span> k3<span class="token punctuation">,</span> k4<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//值类型（基本数据类型）变量也可以使用指针，但是一般不建议这样使用</span>
    <span class="token comment">//n1为i32类型；n2为&amp;i32类型</span>
    <span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token operator">&amp;</span>n1<span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"n1 is :{} , n2 is :{}"</span><span class="token punctuation">,</span> n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//05.可变变量的指针。</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> m1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"run"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> m2 <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">mut</span> m1<span class="token punctuation">;</span>
    m2<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token string">",world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"m2 is :{}"</span><span class="token punctuation">,</span> m2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//编译错误：cannot borrow `m1` as immutable because it is also borrowed as mutable</span>
    <span class="token comment">//借出去后，所有权已不在拥有，所以无法被消费</span>
    <span class="token comment">// println!("m1 is :{} , m2 is :{}", m1, m2);</span>
    <span class="token comment">//编译错误：cannot borrow `m2` as mutable, as it is not declared as mutable。cannot borrow as mutable</span>
    <span class="token comment">//不可将借来的东西再借给别人</span>
    <span class="token comment">// let m3 = &amp;mut m2;</span>
    <span class="token comment">//06.rust中不允许出现空指针</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp">Hello<span class="token punctuation">,</span> world<span class="token operator">!</span>
x <span class="token keyword">is</span> <span class="token punctuation">:</span><span class="token number">9</span> <span class="token punctuation">,</span> y <span class="token keyword">is</span> <span class="token punctuation">:</span><span class="token number">9</span>
c1 <span class="token keyword">is</span> <span class="token punctuation">:</span>M <span class="token punctuation">,</span> c2 <span class="token keyword">is</span> <span class="token punctuation">:</span><span class="token class-name">M</span>
h1 <span class="token operator">=</span> hello<span class="token punctuation">,</span> h2 <span class="token operator">=</span> hello <span class="token punctuation">,</span> h3 <span class="token keyword">is</span> <span class="token punctuation">:</span>hello
k1 <span class="token keyword">is</span> <span class="token class-name">hello</span><span class="token punctuation">,</span> k2 <span class="token keyword">is</span> <span class="token class-name">hello</span><span class="token punctuation">,</span> k3 <span class="token keyword">is</span> <span class="token punctuation">:</span>hello <span class="token punctuation">,</span> k4 <span class="token keyword">is</span> <span class="token punctuation">:</span> hello
n1 <span class="token keyword">is</span> <span class="token punctuation">:</span><span class="token number">8</span> <span class="token punctuation">,</span> n2 <span class="token keyword">is</span> <span class="token punctuation">:</span><span class="token number">8</span>
m2 <span class="token keyword">is</span> <span class="token punctuation">:</span>run<span class="token punctuation">,</span>world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h1><p>切片是指向数据结构（字符串、集合）一部分内容的引用。</p>
<p>不愿意将rust中的切片理解为一种“类型”，实际上也不是；更不愿将rust中的切片理解为一种“集合”。暂且将切片理解成一种对象吧。例如 &amp;s[0..5] 就是获取到了字符串 s 索引从0到5位置的元素，包含0不包含5。</p>
<p>rust中的切片部分主要是要理解索引和下标的概念。</p>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"hello,world."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//ss 的数据类型为：&amp;str</span>
    <span class="token keyword">let</span> ss <span class="token operator">=</span> <span class="token operator">&amp;</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"s is : {} , ss is : {}"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> ss<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//start_part 的数据类型为：&amp;[i32]</span>
    <span class="token keyword">let</span> start_part <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> end_part <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> full_part <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token punctuation">..</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span>
        <span class="token string">"arr is : {:?} , start_part  is : {:?} , end_part is : {:?} , full_part is : {:?}"</span><span class="token punctuation">,</span>
        arr<span class="token punctuation">,</span> start_part<span class="token punctuation">,</span> end_part<span class="token punctuation">,</span> full_part
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp">Hello<span class="token punctuation">,</span> world<span class="token operator">!</span>
s <span class="token keyword">is</span> <span class="token punctuation">:</span> hello<span class="token punctuation">,</span>world<span class="token punctuation">.</span> <span class="token punctuation">,</span> ss <span class="token keyword">is</span> <span class="token punctuation">:</span> hello
arr <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> start_part  <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> end_part <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> full_part <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h1 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h1><p>struct 类似 java 中的类，用来自定义一种数据结构，这种数据结构一般用来描述生活中的某一个对象。struct 中可以包含属性和方法。使用结构体分为两步：首先需要定义一个结构体，然后需要实例化一个结构体，再然后才可以使用。</p>
<p>一旦结构体实例化的时候是可变的，即使用 mut 修饰， 那么结构体中所有的属性都将是可变的。</p>
<p>结构体属性：</p>
<ul>
<li>声明方式，属性名:数据类型；</li>
<li>即使是最后一个属性，末尾也要加英文逗号；</li>
<li>属性可以是另外一个结构体，但不能是本身；</li>
<li>属性可以是一个元组</li>
<li>属性可以是一个枚举</li>
</ul>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token comment">/**
 * 人
 */</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">//结构体属性：声明方式，属性名:数据类型；即使是最后一个属性，末尾也要加英文逗号；属性可以是另外一个结构体，但不能是本身；属性可以是一个元组</span>
    active<span class="token punctuation">:</span> <span class="token keyword">bool</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    sign_in_count<span class="token punctuation">:</span> <span class="token keyword">u64</span><span class="token punctuation">,</span>
    nation<span class="token punctuation">:</span> <span class="token class-name">Nation</span><span class="token punctuation">,</span>
    parent<span class="token punctuation">:</span> <span class="token class-name">Parent</span><span class="token punctuation">,</span>
    empty<span class="token punctuation">:</span> <span class="token class-name">Empty</span><span class="token punctuation">,</span>
    tuple<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">u32</span><span class="token punctuation">,</span> <span class="token keyword">u32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 国家结构体
 */</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Nation</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    area<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    time_zone<span class="token punctuation">:</span> <span class="token keyword">u64</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 父母结构体
 * 特殊的结构体，元组结构体。
 */</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Parent</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * 空结构体
 */</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Empty</span><span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//实例化一个结构体</span>
    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cml"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cnaylor@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">,</span>
        nation<span class="token punctuation">:</span> <span class="token class-name">Nation</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"xm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            area<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"north"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            time_zone<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        parent<span class="token punctuation">:</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"baba"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"mama"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        empty<span class="token punctuation">:</span> <span class="token class-name">Empty</span><span class="token punctuation">,</span>
        tuple<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//实例化一个可变结构体</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> p2 <span class="token operator">=</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cml"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cnaylor@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">,</span>
        nation<span class="token punctuation">:</span> <span class="token class-name">Nation</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"xm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            area<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"north"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            time_zone<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        parent<span class="token punctuation">:</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"baba"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"mama"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        empty<span class="token punctuation">:</span> <span class="token class-name">Empty</span><span class="token punctuation">,</span>
        tuple<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//给结构体实例重新赋值</span>
    p2<span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"c@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> email <span class="token operator">=</span> <span class="token operator">&amp;</span>p2<span class="token punctuation">.</span>email<span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"p1 is : {:#?} , p2 is : {:#?} , email is :{}"</span><span class="token punctuation">,</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token attribute attr-name">#[derive(Debug)]</span>
    <span class="token keyword">struct</span> <span class="token type-definition class-name">User</span> <span class="token punctuation">{</span>
        active<span class="token punctuation">:</span> <span class="token keyword">bool</span><span class="token punctuation">,</span>
        username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token keyword">u64</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">build_user</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> username<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> u <span class="token operator">=</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
            email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>
            <span class="token comment">//简写。函数参数和结构体属性名相同，可简写</span>
            <span class="token comment">// email,</span>
            username<span class="token punctuation">,</span>
            active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            sign_in_count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//从已创建的结构体实例创建实例</span>
        <span class="token comment">// let u2 = User { ..u };</span>
        <span class="token keyword">let</span> u3 <span class="token operator">=</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
            email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"o@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">..</span>u
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> u3<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> u <span class="token operator">=</span> <span class="token function">build_user</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"a@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"u is : {:?}"</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Hello<span class="token punctuation">,</span> world<span class="token tag">!</span>
<span class="token key atrule">p1 is</span> <span class="token punctuation">:</span> Person <span class="token punctuation">{</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">,</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"cml"</span><span class="token punctuation">,</span>
    <span class="token key atrule">email</span><span class="token punctuation">:</span> <span class="token string">"cnaylor@163.com"</span><span class="token punctuation">,</span>
    <span class="token key atrule">sign_in_count</span><span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">,</span>
    <span class="token key atrule">nation</span><span class="token punctuation">:</span> Nation <span class="token punctuation">{</span>
        <span class="token key atrule">time_zone</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token key atrule">parent</span><span class="token punctuation">:</span> Parent(
        "baba"<span class="token punctuation">,</span>
        <span class="token string">"mama"</span><span class="token punctuation">,</span>
    )<span class="token punctuation">,</span>
    <span class="token key atrule">empty</span><span class="token punctuation">:</span> Empty<span class="token punctuation">,</span>
    <span class="token key atrule">tuple</span><span class="token punctuation">:</span> (
        8<span class="token punctuation">,</span>
        <span class="token number">8</span><span class="token punctuation">,</span>
    )<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token punctuation">,</span> email is <span class="token punctuation">:</span>c@163.com
<span class="token key atrule">u is</span> <span class="token punctuation">:</span> User <span class="token punctuation">{</span> <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">,</span> <span class="token key atrule">username</span><span class="token punctuation">:</span> <span class="token string">"tom"</span><span class="token punctuation">,</span> <span class="token key atrule">email</span><span class="token punctuation">:</span> <span class="token string">"o@163.com"</span><span class="token punctuation">,</span> <span class="token key atrule">sign_in_count</span><span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h1><p>枚举表示某一个对象可能的值，实际使用中常用来表达：ip地址类型，订单状态，人员性别，实名认证方式等某一事物简短又不经常变化的“可选值”。</p>
<p>枚举成员：</p>
<ul>
<li>英文逗号分割</li>
<li>可以是字符串，数字类型或者结构体。甚至可以包含另一个枚举</li>
<li>要合理使用标准库中的枚举，避免重复定义</li>
<li>可以使用match比对枚举成员，类似java中的switch-case</li>
<li>可以用 if - let —&gt; else 比对枚举成员</li>
</ul>
<h2 id="Match"><a href="#Match" class="headerlink" title="Match"></a>Match</h2><pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">match</span> f <span class="token punctuation">{</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"File opened successfully."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">Err</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Failed to open the file."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="If-let"><a href="#If-let" class="headerlink" title="If-let"></a>If-let</h2><pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token type-definition class-name">Book</span> <span class="token punctuation">{</span>
        <span class="token class-name">Papery</span><span class="token punctuation">(</span><span class="token keyword">u32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">Electronic</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> book <span class="token operator">=</span> <span class="token class-name">Book</span><span class="token punctuation">::</span><span class="token class-name">Electronic</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token class-name">Book</span><span class="token punctuation">::</span><span class="token class-name">Papery</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span> book <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Papery {}"</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Not papery book"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Option"><a href="#Option" class="headerlink" title="Option"></a>Option</h2><p>Option 是一个标准库中的枚举，用来处理空值（null） 的情况。Option是一个泛型枚举，接受类型 T 。Option 要干的事情和java 中的 optional（java8新特性） 类似。</p>
<p>简言之：</p>
<ul>
<li>我们在设计资源提供者时候，如果不确定资源提供者是否会输出null，那么我们可以将返回值定义为 Option。若一切正常，资源消费者直接消费返回值T就行；若出了问题，资源消费者得到的返回值将为Option.None 。</li>
<li>同理，作为调用方，我们可以定义一个Option的变量来接收资源提供者的输出值，而后根据返回值是否为none处理业务逻辑。</li>
</ul>
<p>Option 源码：</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss"><span class="token selector">enum Option&lt;T&gt; </span><span class="token punctuation">{</span>
    <span class="token function">Some</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">,</span>
    None<span class="token punctuation">,</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>使用举例：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token comment">// 整数除法。</span>
<span class="token keyword">fn</span> <span class="token function-definition function">checked_division</span><span class="token punctuation">(</span>dividend<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span> divisor<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">Option</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> divisor <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token comment">// 失败表示成 `None` 取值</span>
        <span class="token class-name">None</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 结果 Result 被包装到 `Some` 取值中</span>
        <span class="token class-name">Some</span><span class="token punctuation">(</span>dividend <span class="token operator">/</span> divisor<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 此函数处理可能失败的除法</span>
<span class="token keyword">fn</span> <span class="token function-definition function">try_division</span><span class="token punctuation">(</span>dividend<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span> divisor<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// `Option` 值可以进行模式匹配，就和其他枚举类型一样</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">checked_division</span><span class="token punctuation">(</span>dividend<span class="token punctuation">,</span> divisor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token macro property">result!</span><span class="token operator">=</span><span class="token class-name">Option</span><span class="token punctuation">::</span><span class="token class-name">None</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//获取返回值</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Nice, result is :{:?}"</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token keyword">match</span> <span class="token function">checked_division</span><span class="token punctuation">(</span>dividend<span class="token punctuation">,</span> divisor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">None</span> <span class="token operator">=&gt;</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{} / {} failed!"</span><span class="token punctuation">,</span> dividend<span class="token punctuation">,</span> divisor<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">Some</span><span class="token punctuation">(</span>quotient<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"{} / {} = {}"</span><span class="token punctuation">,</span> dividend<span class="token punctuation">,</span> divisor<span class="token punctuation">,</span> quotient<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">try_division</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">try_division</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp">Nice<span class="token punctuation">,</span> result <span class="token keyword">is</span> <span class="token punctuation">:</span><span class="token number">2</span>
<span class="token number">4</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span> failed<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><p>Rust 标准库中包含一系列被称为 集合（collections）的非常有用的数据结构。大部分其他数据类型都代表一个特定的值，不过集合可以包含多个值。不同于内建的数组和元组类型，集合指向的数据是储存在堆上的，这意味着数据的数量不必在编译时就已知，并且还可以随着程序的运行增长或缩小。</p>
<h2 id="vector容器"><a href="#vector容器" class="headerlink" title="vector容器"></a>vector容器</h2><p>vector 允许我们在一个单独的数据结构中储存多个值，所有值在内存中彼此相邻排列。vector 只能储存相同类型的值。</p>
<p>如果借助枚举，有时候 vector 也可以变相存储不同类型的值。</p>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//新建一个 vector</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> v<span class="token punctuation">:</span> <span class="token class-name">Vec</span><span class="token operator">&lt;</span><span class="token keyword">i32</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token class-name">Vec</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> v2 <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"v is : {:?} , v2 is : {:?}"</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//更新</span>
    v<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">888</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">333</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//删除</span>
    v<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//查询</span>
    <span class="token keyword">let</span> two <span class="token operator">=</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> two2 <span class="token operator">=</span> <span class="token operator">&amp;</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//get方法返回的是Option</span>
    <span class="token keyword">let</span> three <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"two is : {} , three is  : {:?}"</span><span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//遍历</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token operator">&amp;</span>arr <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"arr item for --&gt; {}"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//借助枚举，vector中可以存储不同的数据类型</span>
    <span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span>
        <span class="token class-name">SpreadsheetCell</span><span class="token punctuation">::</span><span class="token class-name">Int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">SpreadsheetCell</span><span class="token punctuation">::</span><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">SpreadsheetCell</span><span class="token punctuation">::</span><span class="token class-name">Float</span><span class="token punctuation">(</span><span class="token number">10.12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span>  s <span class="token operator">=</span> <span class="token operator">&amp;</span>row<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"row is : {:?} , s is : {:?} "</span><span class="token punctuation">,</span> row<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">enum</span> <span class="token type-definition class-name">SpreadsheetCell</span> <span class="token punctuation">{</span>
    <span class="token class-name">Int</span><span class="token punctuation">(</span><span class="token keyword">i32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Float</span><span class="token punctuation">(</span><span class="token keyword">f64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-vhdl" data-language="vhdl"><code class="language-vhdl">Hello<span class="token punctuation">,</span> world!
v <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> v2 <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
two <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token number">222</span> <span class="token punctuation">,</span> three <span class="token keyword">is</span>  <span class="token punctuation">:</span> <span class="token function">Some</span><span class="token punctuation">(</span><span class="token number">333</span><span class="token punctuation">)</span>
arr item <span class="token keyword">for</span> <span class="token comment">--&gt; 100</span>
arr item <span class="token keyword">for</span> <span class="token comment">--&gt; 32</span>
arr item <span class="token keyword">for</span> <span class="token comment">--&gt; 57</span>
row <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">Int</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Float</span><span class="token punctuation">(</span><span class="token number">10.12</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> s <span class="token keyword">is</span> <span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"blue"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>你没有看错，rust 中，字符串也是集合，是什么集合呢？ 是“字符”的集合。注意：上面提到过字符是 rust 的基础标量类型，但是字符串不是标量类型，而是集合类型。</p>
<ul>
<li>字符串是UTF-8编码，中文不会乱码，一个英文字符占1字节，一个汉字占2字节。</li>
<li>字符串底层实际是一个结构体，数据存储在结构体中的 Vec （vector容器）里面 。</li>
<li>rust中不建议用下标访问字符串元素：rust中的字符串大部分时候和 java 中的不太一样，相比较而言更低级（对部分使用者来说），但是rust中的字符串更能真实的反应文字本来的样子。</li>
</ul>
<p>更新字符串的方式：</p>
<ul>
<li>push_str</li>
<li>push</li>
<li>加号</li>
<li>format!</li>
</ul>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> s <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token string">"initial contents"</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> ss <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> sss <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"你好！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"s is : {} , ss is  : {} , sss is  : {}"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> sss<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//更新</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> word <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"Aa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    word<span class="token punctuation">.</span><span class="token function">push_str</span><span class="token punctuation">(</span><span class="token string">"Bb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    word<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token char">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    word <span class="token operator">+=</span> <span class="token string">"cDd"</span><span class="token punctuation">;</span>
    word <span class="token operator">=</span> <span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"{}{}-{}"</span><span class="token punctuation">,</span> word<span class="token punctuation">,</span> <span class="token string">"Ee"</span><span class="token punctuation">,</span> <span class="token string">"Ff"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"final  word is : {} "</span><span class="token punctuation">,</span> word<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//不要使用下标访问</span>
    <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"你好我是陈明亮"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> k1 <span class="token operator">=</span> <span class="token operator">&amp;</span>k<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">..</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//输出结果可能不是大多数人预期：p1 is : hel , k1 is : 你</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"p1 is : {} , k1 is : {}"</span><span class="token punctuation">,</span> p1<span class="token punctuation">,</span> k1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//遍历</span>
    word<span class="token operator">+=</span><span class="token string">"北京"</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> word<span class="token punctuation">.</span><span class="token function">chars</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"word ---&gt; item is :{}"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-vhdl" data-language="vhdl"><code class="language-vhdl">Hello<span class="token punctuation">,</span> world!
s <span class="token keyword">is</span> <span class="token punctuation">:</span>  <span class="token punctuation">,</span> ss <span class="token keyword">is</span>  <span class="token punctuation">:</span> initial contents <span class="token punctuation">,</span> sss <span class="token keyword">is</span>  <span class="token punctuation">:</span> 你好！
final  word <span class="token keyword">is</span> <span class="token punctuation">:</span> AaBbCcDdEe<span class="token operator">-</span>Ff
p1 <span class="token keyword">is</span> <span class="token punctuation">:</span> hel <span class="token punctuation">,</span> k1 <span class="token keyword">is</span> <span class="token punctuation">:</span> 你
word <span class="token comment">---&gt; item is :A</span>
word <span class="token comment">---&gt; item is :a</span>
word <span class="token comment">---&gt; item is :B</span>
word <span class="token comment">---&gt; item is :b</span>
word <span class="token comment">---&gt; item is :C</span>
word <span class="token comment">---&gt; item is :c</span>
word <span class="token comment">---&gt; item is :D</span>
word <span class="token comment">---&gt; item is :d</span>
word <span class="token comment">---&gt; item is :E</span>
word <span class="token comment">---&gt; item is :e</span>
word <span class="token comment">---&gt; item is :-</span>
word <span class="token comment">---&gt; item is :F</span>
word <span class="token comment">---&gt; item is :f</span>
word <span class="token comment">---&gt; item is :b</span>
word <span class="token comment">---&gt; item is :C</span>
word <span class="token comment">---&gt; item is :c</span>
word <span class="token comment">---&gt; item is :D</span>
word <span class="token comment">---&gt; item is :d</span>
word <span class="token comment">---&gt; item is :E</span>
word <span class="token comment">---&gt; item is :e</span>
word <span class="token comment">---&gt; item is :-</span>
word <span class="token comment">---&gt; item is :F</span>
word <span class="token comment">---&gt; item is :f</span>
word <span class="token comment">---&gt; item is :北</span>
word <span class="token comment">---&gt; item is :京</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="代码组织"><a href="#代码组织" class="headerlink" title="代码组织"></a>代码组织</h1><p>讲道理，rust 中的代码组织相比 java 、CSharp 这些所谓高级语言，要复杂的多。大概包含两个部分：命名空间和访问权限。</p>
<h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h2><p>rust 中针对包管理主要有三个概念：包（package），箱（crate），模块（module）。三个概念形成一个树状结构，包中包含箱，箱中包含模块。</p>
<ul>
<li>包：cargo new 出来的工程就是一个包，包中包含箱。一个包会包含有一个 Cargo.toml 文件，阐述如何去构建里面的 crate</li>
<li>箱：箱是二进制程序文件或者库文件，箱中包含模块。在 <a target="_blank" rel="noopener" href="https://crates.io/">https://crates.io</a> 这个网站中有很多别人开发好的箱，我们可以通过引入这些箱提升我们的开发效率。</li>
<li>模块：基于业务功能的实现和代码组织的考量，我们将功能相似或共同完成一个功能的代码分到一个组里面，这个组就是模块了，一个箱中往往包含多个模块。当然，模块中可以包含子模块。</li>
</ul>
<h2 id="访问其他mod和crate"><a href="#访问其他mod和crate" class="headerlink" title="访问其他mod和crate"></a>访问其他mod和crate</h2><h3 id="访问权限和关键字"><a href="#访问权限和关键字" class="headerlink" title="访问权限和关键字"></a>访问权限和关键字</h3><p>Rust 中默认所有项（函数、方法、结构体、枚举、模块和常量）都是私有的。父模块中的项不能使用子模块中的私有项，但是子模块中的项可以使用他们父模块中的项。</p>
<p>关键字：</p>
<ul>
<li>pub：添加 pub 访问修饰符的项将被公开，所有人可以访问</li>
<li>use：将其他命名空间引入当前作用域</li>
<li>as ：使用 as 可将use进来的命名空间取一个别名，一般用来解决当两个需 use 对象的名称相同时候区分他们</li>
<li>mod ：定义一个 module 或者导入一个 module。</li>
</ul>
<h3 id="访问其他文件中的对象"><a href="#访问其他文件中的对象" class="headerlink" title="访问其他文件中的对象"></a>访问其他文件中的对象</h3><ul>
<li>一个文件默认就是 module ，所以 other_rs_file.rs 就是一个名为 other_rs_file 的 module</li>
<li>main.rs 中如果要使用 other_rs_file 中的对象需要先导入这个 module： mod other_rs_file ，使用 mod::对象名 访问其中对象</li>
<li>如果 other_rs_file.rs 中定义了子 module ， main.rs 仅需导入顶层 module （即 mod other_rs_file） ，使用 mod::子mod::对象名 访问其中对象</li>
<li>rust 默认将rs文件识别为一个 module 处理， 但是无法将文件夹识别为一个  module ，所以如果我们要访问entity文件夹中dept.rs文件中的对象，需要在entiry文件夹中新增一个mod.rs 并在其中定义 dept module ，访问其中对象的时候同样仅需导入顶层 mod ，然后通过 entity::dept::Dept 方式访问 dept 对象。</li>
</ul>
<p>工程目录文件结构：</p>
<pre class="line-numbers language-vhdl" data-language="vhdl"><code class="language-vhdl">│  main<span class="token punctuation">.</span>rs
│  other_rs_file<span class="token punctuation">.</span>rs
└─<span class="token keyword">entity</span>
        dept<span class="token punctuation">.</span>rs
        <span class="token operator">mod</span><span class="token punctuation">.</span>rs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>示例代码：<br>other_rs_file.rs：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">other</span> <span class="token punctuation">{</span>
    <span class="token attribute attr-name">#[derive(Debug)]</span>
    <span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">User</span> <span class="token punctuation">{</span>
        <span class="token comment">//结构体属性默认是私有的，若外部需要访问需添加pub关键字</span>
        <span class="token keyword">pub</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
        <span class="token keyword">pub</span> age<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">init_user</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> u <span class="token operator">=</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span>
            age<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> u<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">add_user</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//枚举不用给元素添加 pub ，只要枚举是公开的，里面元素就是公开的</span>
    <span class="token attribute attr-name">#[derive(Debug)]</span>
    <span class="token keyword">pub</span> <span class="token keyword">enum</span> <span class="token type-definition class-name">IpAddrKind</span> <span class="token punctuation">{</span>
        <span class="token constant">IPV4</span><span class="token punctuation">,</span>
        <span class="token constant">IPV6</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>dept.rs：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">pub</span> <span class="token keyword">struct</span> <span class="token type-definition class-name">Dept</span> <span class="token punctuation">{</span>
    <span class="token keyword">pub</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    <span class="token keyword">pub</span> no<span class="token punctuation">:</span> <span class="token keyword">i32</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>mod.rs：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">pub</span> <span class="token keyword">mod</span> <span class="token module-declaration namespace">dept</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>main.rs：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">mod</span> <span class="token module-declaration namespace">other_rs_file</span><span class="token punctuation">;</span>
<span class="token keyword">mod</span>  <span class="token module-declaration namespace">entity</span><span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/*
     * main.rs 同级 rs文件
     * 引入其他rs文件，需先导入module ，通过mod名称（即文件名称）::对象名称 访问其内部对象
     * 如果在其他文件内部定义了子 module ， 导入方式不变，访问方式：mod名称::子mod名称::对象名称
     * 导入时候只导入顶层mod
     */</span>
    <span class="token keyword">let</span> u <span class="token operator">=</span> <span class="token namespace">other_rs_file<span class="token punctuation">::</span>other<span class="token punctuation">::</span></span><span class="token class-name">User</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cml"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        age<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"实例化另外一个rs文件中定义的结构体，u is： {:?}"</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/*
    * main.rs 上级文件夹 rs 文件
    * rust 默认将rs文件识别为一个 module 处理， 但是无法将文件夹识别为一个  module ，所以如果我们要访问entity文件夹中dept.rs文件中的对象，需要在entiry文件夹中新增一个mod.rs 并在其中定义 dept module。
    */</span>
    <span class="token keyword">let</span> d<span class="token operator">=</span><span class="token namespace">entity<span class="token punctuation">::</span>dept<span class="token punctuation">::</span></span><span class="token class-name">Dept</span><span class="token punctuation">{</span>
        name<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"技术部门"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        no<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
   
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"实例化另外一个rs文件中定义的结构体，d is： {:?}"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>main输出：</p>
<pre class="line-numbers language-csharp" data-language="csharp"><code class="language-csharp">Hello<span class="token punctuation">,</span> world<span class="token operator">!</span>
实例化另外一个rs文件中定义的结构体，u <span class="token keyword">is</span>： User <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"cml"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">age</span><span class="token punctuation">:</span> <span class="token number">9</span> <span class="token punctuation">}</span>
实例化另外一个rs文件中定义的结构体，d <span class="token keyword">is</span>： Dept <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"技术部门"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">no</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="使用第三方库"><a href="#使用第三方库" class="headerlink" title="使用第三方库"></a>使用第三方库</h2><ul>
<li>使用 use 导入其他的 crate</li>
<li>默认的 crate 源是 crate.io 这个网站</li>
<li>导入其他 crate 需要在 Cargo.toml 中定义相关 dependencies。标准库除外，标准库中的 crate 可以直接导入使用</li>
<li>使用花括号导入一个 crate 下多个 module ：use std::{self,io,cmp::Ordering}</li>
<li>使用 * 号导入一个 crate 下所有 module：use std:😗;</li>
</ul>
<p>示例代码：<br>Cargo.toml：</p>
<pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">package</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">name</span> <span class="token punctuation">=</span> <span class="token value attr-value">"<span class="token inner-value">Crate</span>"</span>
<span class="token key attr-name">version</span> <span class="token punctuation">=</span> <span class="token value attr-value">"<span class="token inner-value">0.1.0</span>"</span>
<span class="token key attr-name">edition</span> <span class="token punctuation">=</span> <span class="token value attr-value">"<span class="token inner-value">2021</span>"</span>


<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">dependencies</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">rand</span> <span class="token punctuation">=</span> <span class="token value attr-value">"<span class="token inner-value">0.5.5</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>main.rs：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token comment">/*
* 导入标准库
*/</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fmt<span class="token punctuation">::</span></span><span class="token class-name">Result</span> <span class="token keyword">as</span> <span class="token class-name">FmtResult</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">Result</span> <span class="token keyword">as</span> <span class="token class-name">IoResult</span><span class="token punctuation">;</span>
<span class="token comment">// use std::cmp::Ordering</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token keyword">self</span><span class="token punctuation">,</span> <span class="token namespace">cmp<span class="token punctuation">::</span></span><span class="token class-name">Ordering</span><span class="token punctuation">,</span> io<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/*
* 导入外部第三方库
*/</span>
<span class="token keyword">use</span> <span class="token namespace">rand<span class="token punctuation">::</span></span><span class="token punctuation">{</span>thread_rng<span class="token punctuation">,</span> <span class="token class-name">Rng</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> fmtr <span class="token operator">=</span> <span class="token class-name">FmtResult</span><span class="token punctuation">::</span><span class="token class-name">Ok</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> ior <span class="token operator">=</span> <span class="token class-name">IoResult</span><span class="token punctuation">::</span><span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token string">"成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"fmtr 无法打印 , ior is : {:?}"</span><span class="token punctuation">,</span> ior<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//生成随机数</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> rng <span class="token operator">=</span> <span class="token function">thread_rng</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> x<span class="token punctuation">:</span> <span class="token keyword">u32</span> <span class="token operator">=</span> rng<span class="token punctuation">.</span><span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"x is :{}"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><ul>
<li>rust中的异常不叫 exception ， 而是叫做 panic （恐慌），意思是编译器执行到这里的代码害怕了，不敢继续执行了，就恐慌了，相当于程序就终止了。</li>
<li>rust官方对于错误处理有两个类别：可恢复错误（如打开文件失败算是一个错误，但是这种错误可以重试）；不可恢复错误（如索引越界，这就是实打实的bug了，程序将崩溃）</li>
<li>对于不可恢复的错误，官方的做法是提供一个Result&lt;T, E&gt; 枚举类来处理，如 std::fs::File—&gt;Result 。若程序运行成功返回 Ok(T) ，即响应结果，若程序运行出现错误返回 Err(E) ，即错误信息。</li>
</ul>
<p>工程结构：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">│  Cargo.lock
│  Cargo.toml
│  hello.txt
├─src
│      main.rs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>fs<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>io<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">Read</span><span class="token punctuation">;</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> <span class="token keyword">mut</span> f <span class="token operator">=</span> <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">match</span> f <span class="token punctuation">{</span>
        <span class="token class-name">Ok</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"File opened successfully."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Err</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">//打开失败</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Failed to open the file."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">match</span> err<span class="token punctuation">.</span><span class="token function">kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//打开失败原因，不存在情况创建</span>
                <span class="token namespace">io<span class="token punctuation">::</span></span><span class="token class-name">ErrorKind</span><span class="token punctuation">::</span><span class="token class-name">NotFound</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"File Not Found. soon create . "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token namespace">fs<span class="token punctuation">::</span></span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">,</span> <span class="token string">"I am  hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                _ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token comment">//其他原因直接抛 panic</span>
                    <span class="token macro property">panic!</span><span class="token punctuation">(</span><span class="token string">"Failed to open the file."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//打印 txt内容</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> file <span class="token operator">=</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">File</span><span class="token punctuation">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> contents <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    file<span class="token punctuation">.</span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> contents<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">print!</span><span class="token punctuation">(</span><span class="token string">"txt 的内容是：{}"</span><span class="token punctuation">,</span> contents<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-vhdl" data-language="vhdl"><code class="language-vhdl">Hello<span class="token punctuation">,</span> world!
Failed <span class="token keyword">to</span> <span class="token keyword">open</span> the <span class="token keyword">file</span><span class="token punctuation">.</span>
<span class="token keyword">File</span> <span class="token operator">Not</span> Found<span class="token punctuation">.</span> soon create <span class="token punctuation">.</span>
txt 的内容是：I am  hello<span class="token punctuation">.</span>txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="泛型概念"><a href="#泛型概念" class="headerlink" title="泛型概念"></a>泛型概念</h2><p>泛型这种编程语言得设计绝非 rust 独有的，实际上在C# ， Java 这些语言中早就引入了泛型的设计思想。泛型即类型的泛化，在编写代码的时候并不知道具体的数据类型或者数据结构是什么样子的，而是定义一个标识，在运行时此标识可动态替换为实际的数据类型。很显然这种设计能够让开发人员避免编写很多相似的重复的代码。</p>
<p>在 rust 中，可以在如下位置编写泛型代码：</p>
<ul>
<li>泛型函数</li>
<li>泛型结构体</li>
<li>泛型枚举</li>
</ul>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!--&gt;泛型"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/*
     * 泛型函数
     */</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"数字数组中最大元素是 = {}"</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"B"</span><span class="token punctuation">,</span> <span class="token string">"C"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"字符数组中最大元素是 = {}"</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/*
     * 泛型结构体
     */</span>
    <span class="token comment">// i32</span>
    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">//f64</span>
    <span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"p1  ={:?} , p2 = {:?}"</span><span class="token punctuation">,</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//求最大元素</span>
<span class="token keyword">fn</span> <span class="token function-definition function">max</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token namespace">std<span class="token punctuation">::</span>cmp<span class="token punctuation">::</span></span><span class="token class-name">PartialOrd</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>array<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token operator">&amp;</span><span class="token class-name">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> max_index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span><span class="token function">len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>max_index<span class="token punctuation">]</span> <span class="token punctuation">{</span>
            max_index <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>array<span class="token punctuation">[</span>max_index<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//泛型结构体</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Point</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Hello<span class="token punctuation">,</span> world<span class="token tag">!--</span><span class="token punctuation">&gt;</span>泛型
数字数组中最大元素是 = 6
字符数组中最大元素是 = C
p1  =Point <span class="token punctuation">{</span> <span class="token key atrule">x</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token key atrule">y</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">,</span> p2 = Point <span class="token punctuation">{</span> <span class="token key atrule">x</span><span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token key atrule">y</span><span class="token punctuation">:</span> <span class="token number">2.0</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="特性（接口）"><a href="#特性（接口）" class="headerlink" title="特性（接口）"></a>特性（接口）</h1><p>特性（trait）概念接近于 Java 中的接口（Interface），但两者不完全相同。特性与接口相同的地方在于它们都是一种行为规范，可以用于标识哪些类有哪些方法</p>
<p>一个对象的行为由其可供调用的方法构成。如果可以对不同类型调用相同的方法的话，这些类型就可以共享相同的行为了。trait 定义是一种将方法签名组合起来的方法，目的是定义一个实现某些目的所必需的行为的集合。</p>
<ul>
<li>一个结构体可以同时实现多个接口，但是一个结构体的继承者类（即 impl ， rust 中实现类无自己的类名）仅可实现一个接口</li>
<li>trait 接口可以有默认实现方法，这个就和java8一样，接口可以有默认的已实现方法</li>
</ul>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>time<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">SystemTime</span><span class="token punctuation">,</span> <span class="token constant">UNIX_EPOCH</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!---&gt;特性（接口）"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//实例化Person</span>
    <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cml"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        age<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> d <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"d = {}"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> s <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">tostring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"s={}"</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">nowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"t ={:?}"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//定义一个描述接口</span>
<span class="token keyword">trait</span> <span class="token type-definition class-name">Descriptive</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">describe</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">String</span><span class="token punctuation">;</span>
    <span class="token comment">//接口默认方法</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">nowTime</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">SystemTime</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token class-name">SystemTime</span><span class="token punctuation">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> start<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//定义一个 tostring 接口</span>
<span class="token keyword">trait</span> <span class="token type-definition class-name">ToString</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">tostring</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">String</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//定义一个结构体</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span> <span class="token keyword">u8</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">//结构体的一个继承类实现了 Descriptive 接口</span>
<span class="token keyword">impl</span> <span class="token class-name">Descriptive</span> <span class="token keyword">for</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">describe</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
        <span class="token macro property">format!</span><span class="token punctuation">(</span>
            <span class="token string">"I am   Person , name is : {} , age is : {}"</span><span class="token punctuation">,</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>age
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">impl</span> <span class="token class-name">ToString</span> <span class="token keyword">for</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">tostring</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
        <span class="token macro property">format!</span><span class="token punctuation">(</span><span class="token string">"Person:{{name:{},age:{}}}"</span><span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">self</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-makefile" data-language="makefile"><code class="language-makefile">Hello, world!---&gt;特性（接口）
d <span class="token operator">=</span> I am   Person , name is <span class="token punctuation">:</span> cml , age is <span class="token punctuation">:</span> 100
s<span class="token operator">=</span>Person<span class="token punctuation">:</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span>cml,age<span class="token punctuation">:</span>100<span class="token punctuation">}</span>
t <span class="token operator">=</span>SystemTime <span class="token punctuation">{</span> intervals<span class="token punctuation">:</span> 132914629768805244 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="文件和IO"><a href="#文件和IO" class="headerlink" title="文件和IO"></a>文件和IO</h1><p>rust 标准库中的 std::fs 可以用来操作文件</p>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>fs<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>fs<span class="token punctuation">::</span></span><span class="token class-name">OpenOptions</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span>prelude<span class="token punctuation">::</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!---&gt;文件io"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//读取文件内容，一次性读取</span>
    <span class="token comment">//文件内容：This is a text file.</span>
    <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token namespace">fs<span class="token punctuation">::</span></span><span class="token function">read_to_string</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"txt文件的内容是：{}"</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//写入文件，追加</span>
    <span class="token comment">//追加完成文件内容：</span>
    <span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"追加后，txt文件的内容是：{}"</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//写入文件，会覆盖</span>
    <span class="token comment">//覆盖之后文件内容：</span>
    <span class="token namespace">fs<span class="token punctuation">::</span></span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">,</span> <span class="token string">"FROM RUST PROGRAM"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"覆盖写入后，txt文件的内容是：{}"</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//追加</span>
<span class="token keyword">fn</span> <span class="token function-definition function">append</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token namespace">std<span class="token punctuation">::</span>io<span class="token punctuation">::</span></span><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> file <span class="token operator">=</span> <span class="token class-name">OpenOptions</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"text.txt"</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
    file<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">b" APPEND WORD"</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
    <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-vhdl" data-language="vhdl"><code class="language-vhdl">Hello<span class="token punctuation">,</span> world!<span class="token comment">---&gt;文件io</span>
txt文件的内容是：This <span class="token keyword">is</span> a text <span class="token keyword">file</span><span class="token punctuation">.</span>
追加后，txt文件的内容是：This <span class="token keyword">is</span> a text <span class="token keyword">file</span><span class="token punctuation">.</span>
覆盖写入后，txt文件的内容是：This <span class="token keyword">is</span> a text <span class="token keyword">file</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><p>面向对象编程（OOP）思想是一个概念，是一种思想指导，围绕“对象”展开，从万物皆是对象的角度出发，一个 crate ， 一个 module ，一个 struct ，一个枚举等等都是一个个独立的对象，能自主表达一个事物、某种特征。而运用封装、继承、多态等手段可以让对象与对象之间产生某种联系，进而表达更多的事物，解决更多的问题。</p>
<p>面向对象思想是构建大型应用软件系统的基石。</p>
<p>rust 语言中 可以通过 结构体，枚举，特性（trait）等来实现oop思想。</p>
<h1 id="并发编程"><a href="#并发编程" class="headerlink" title="并发编程"></a>并发编程</h1><p>rust 中的并发编程主要得益与 线程 、 消息传递和互斥锁。<br>Rust 语言是满足多线程特性的，所以 rust 可以满足 主–&gt;子 多任务应用场景。</p>
<p>消息传递有点类似与消息队列，但消息队列一般跨进程或线程，而 rust 中的消息传递主要是主子线程中数据的传递。</p>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><ul>
<li>rust 标准库 std::thread 中的 spawn 函数用来创建一个新的线程</li>
<li>通过在主线程中 join 子线程，让主线程阻塞，确保所有子线程执行完毕再继续执行子线程。这种情况在实际开发中非常常见，比如在获取用户个人中心信息接口中，我们将获取基本信息、订单信息、积分信息、用户消息信息分别放在4个子线程中并发执行，在主线程中等待所有子线程都响应了再将结果汇总返回给调用方。</li>
</ul>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>thread<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>time<span class="token punctuation">::</span></span><span class="token class-name">Duration</span><span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[主线程] Hello, world!---&gt;线程"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建子线程</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span><span class="token number">5</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[主线程] 即将创建一个子线程，当前循环变量:{}"</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> child_thread <span class="token operator">=</span> <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span><span class="token number">2</span> <span class="token punctuation">{</span>
                <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[子线程] hi number {} from the spawned thread!"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">::</span><span class="token function">from_millis</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span><span class="token number">3</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[主线程] hi number {} from the main thread!"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">::</span><span class="token function">from_millis</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//线程join</span>
    <span class="token keyword">let</span> child1 <span class="token operator">=</span> <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[child-1]hi I am spawned thread!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">::</span><span class="token function">from_millis</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> child2 <span class="token operator">=</span> <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[child-2]hi I am spawned thread!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">::</span><span class="token function">from_millis</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    child1<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    child2<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[main]hi I am main thread!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-less" data-language="less"><code class="language-less">[主线程] Hello<span class="token punctuation">,</span> world!<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>&gt;线程
[主线程] 即将创建一个子线程，当前循环变量<span class="token punctuation">:</span>0
[主线程] 即将创建一个子线程，当前循环变量<span class="token punctuation">:</span>1
[子线程] hi number 0 from the spawned thread!
[主线程] 即将创建一个子线程，当前循环变量<span class="token punctuation">:</span>2
[子线程] hi number 0 from the spawned thread!
[主线程] 即将创建一个子线程，当前循环变量<span class="token punctuation">:</span>3
[子线程] hi number 0 from the spawned thread!
[主线程] 即将创建一个子线程，当前循环变量<span class="token punctuation">:</span>4
[子线程] hi number 0 from the spawned thread!
[主线程] hi number 0 from the main thread!
[子线程] hi number 0 from the spawned thread!
[子线程] hi number 1 from the spawned thread!
[子线程] hi number 1 from the spawned thread!
[子线程] hi number 1 from the spawned thread!
[子线程] hi number 1 from the spawned thread!
[主线程] hi number 1 from the main thread!
[子线程] hi number 1 from the spawned thread!
[主线程] hi number 2 from the main thread!
[child<span class="token operator">-</span>1]hi I am spawned thread!
[child<span class="token operator">-</span>2]hi I am spawned thread!
[main]hi I am main thread!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="消息传递"><a href="#消息传递" class="headerlink" title="消息传递"></a>消息传递</h2><p>以下示例演示了子线程获得了主线程的发送者 tx，并调用了它的 send 方法发送数据，然后主线程就通过对应的接收者 rx 接收到了发送的数据。</p>
<p>无法在子线程中发送而在另外一个子线程中接收</p>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>sync<span class="token punctuation">::</span></span>mpsc<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>thread<span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!---&gt;消息传递"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
        active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cml"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">::</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">"cnaylor@163.com"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        sign_in_count<span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">,</span>
        tuple<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token punctuation">(</span>tx<span class="token punctuation">,</span> rx<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token namespace">mpsc<span class="token punctuation">::</span></span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
        tx<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> received <span class="token operator">=</span> rx<span class="token punctuation">.</span><span class="token function">recv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Got: {:?}"</span><span class="token punctuation">,</span> received<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token attribute attr-name">#[derive(Debug)]</span>
<span class="token keyword">struct</span> <span class="token type-definition class-name">Person</span> <span class="token punctuation">{</span>
    active<span class="token punctuation">:</span> <span class="token keyword">bool</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    sign_in_count<span class="token punctuation">:</span> <span class="token keyword">u64</span><span class="token punctuation">,</span>
    tuple<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">u32</span><span class="token punctuation">,</span> <span class="token keyword">u32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Hello<span class="token punctuation">,</span> world<span class="token tag">!---</span><span class="token punctuation">&gt;</span>消息传递
<span class="token key atrule">Got</span><span class="token punctuation">:</span> Person <span class="token punctuation">{</span> <span class="token key atrule">active</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"cml"</span><span class="token punctuation">,</span> <span class="token key atrule">email</span><span class="token punctuation">:</span> <span class="token string">"cnaylor@163.com"</span><span class="token punctuation">,</span> <span class="token key atrule">sign_in_count</span><span class="token punctuation">:</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token key atrule">tuple</span><span class="token punctuation">:</span> (8<span class="token punctuation">,</span> 8) <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h2 id="互斥锁"><a href="#互斥锁" class="headerlink" title="互斥锁"></a>互斥锁</h2><p>互斥锁（mutex）是 mutual exclusion 的缩写，也就是说，任意时刻，其只允许一个线程访问某些数据。为了访问互斥器中的数据，线程首先需要通过获取互斥器的 锁（lock）来表明其希望访问数据。锁是一个作为互斥器一部分的数据结构，它记录谁有数据的排他访问权。因此，我们描述互斥器为通过锁系统 保护（guarding）其数据。</p>
<p>以下示例演示了在主线程中创建一个值，并在多个子线程中修改此值，最终等所有子线程处理完毕，主线程打印最终值。为了让变量能够跨线程之间共享，引入了std::sync::Arc 这个结构体。</p>
<p>示例代码：</p>
<pre class="line-numbers language-rust" data-language="rust"><code class="language-rust"><span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span>sync<span class="token punctuation">::</span></span><span class="token punctuation">{</span><span class="token class-name">Arc</span><span class="token punctuation">,</span> <span class="token class-name">Mutex</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token namespace">std<span class="token punctuation">::</span></span>thread<span class="token punctuation">;</span>
<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Hello, world!---&gt;互斥锁"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//Arc 原子引用计数器，确保在多个线程中共享数据；counter初始值为0    </span>
    <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token class-name">Arc</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name">Mutex</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"counter 初始值为：0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//定义一个子线程集合</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> handles <span class="token operator">=</span> <span class="token macro property">vec!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token number">0</span><span class="token punctuation">..</span><span class="token number">10</span> <span class="token punctuation">{</span>
        <span class="token comment">//将counter值从主线程中克隆，并赋值给私有变量 counter</span>
        <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token class-name">Arc</span><span class="token punctuation">::</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> handle <span class="token operator">=</span> <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">spawn</span><span class="token punctuation">(</span><span class="token keyword">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">{</span>
            <span class="token comment">//获取互斥锁，并将counter值加一</span>
            <span class="token keyword">let</span> <span class="token keyword">mut</span> num <span class="token operator">=</span> counter<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">*</span>num <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> thread_id <span class="token operator">=</span> <span class="token namespace">thread<span class="token punctuation">::</span></span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"[子线程：{:?}]中将 counter 的值修改为：{}"</span><span class="token punctuation">,</span> thread_id<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//将创建的子线程存储到子线程集合中</span>
        handles<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//将所有的子线程join到主线程，确保主线程等待所有子线程执行成功</span>
    <span class="token keyword">for</span> handle <span class="token keyword">in</span> handles <span class="token punctuation">{</span>
        handle<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token operator">*</span>counter<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Result: {}"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>以上代码输出：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css">Hello<span class="token punctuation">,</span> world!---&gt;互斥锁
counter 初始值为：0
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>2<span class="token punctuation">)</span>]中将 counter 的值修改为：1
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>4<span class="token punctuation">)</span>]中将 counter 的值修改为：2
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>3<span class="token punctuation">)</span>]中将 counter 的值修改为：3
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>5<span class="token punctuation">)</span>]中将 counter 的值修改为：4
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>8<span class="token punctuation">)</span>]中将 counter 的值修改为：5
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>6<span class="token punctuation">)</span>]中将 counter 的值修改为：6
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>7<span class="token punctuation">)</span>]中将 counter 的值修改为：7
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>9<span class="token punctuation">)</span>]中将 counter 的值修改为：8
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>10<span class="token punctuation">)</span>]中将 counter 的值修改为：9
[子线程：<span class="token function">ThreadId</span><span class="token punctuation">(</span>11<span class="token punctuation">)</span>]中将 counter 的值修改为：10
<span class="token property">Result</span><span class="token punctuation">:</span> 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>本文示例代码维护在gitee上面：<a target="_blank" rel="noopener" href="https://gitee.com/naylor_personal/rust-hello-world">https://gitee.com/naylor_personal/rust-hello-world</a></p>
<p><strong>打开代码仓库中的 Sport 文件夹，有惊喜！！！</strong></p>
<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><ul>
<li>勘误：本文篇幅较长、涉及内容较多，若阅读过程种发现错误，欢迎批评指正</li>
<li>目的：本文绝非传统意义上面的技术博文，仅作为学习rust的笔记，或者说是学习rust的一个教程。文中涵盖rust大部分基础知识，在实际开发过程中可以作为手册翻阅</li>
<li>心得：本文主要使用下班和周末时间断断续续编写，历时超过一个月。纵观整个过程，开头和结尾是喜悦的，中间的过程是相当的枯燥。开头为即将掌握一门新语言的 hello，world 编写方式而感到兴奋。结束后回顾了整个过程，发现除了学会了rust 的hello,world 之外，其实也同步回顾了一些已经使用过的其他语言的基础知识，尤其是java。中间过程是对未知事物的探索和对自我理解的求证，简单来说就是先得想办法索取rust中有哪些内容，然后形成自己的理解，最后在整理文章和编写示例代码的时候不断推导和验证自己的理解是否正确。</li>
</ul>
<h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><ul>
<li>下载：<a target="_blank" rel="noopener" href="https://www.rust-lang.org/zh-CN/tools/install">https://www.rust-lang.org/zh-CN/tools/install</a></li>
<li>B站教程：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1hp4y1k7SV?spm_id_from=333.999.0.0">https://www.bilibili.com/video/BV1hp4y1k7SV?spm_id_from=333.999.0.0</a></li>
<li>runoob教程：<a target="_blank" rel="noopener" href="https://www.runoob.com/rust/rust-tutorial.html">https://www.runoob.com/rust/rust-tutorial.html</a></li>
<li>Rust程序设计中文版：<a target="_blank" rel="noopener" href="https://rust.bootcss.com/title-page.html">https://rust.bootcss.com/title-page.html</a></li>
<li><a target="_blank" rel="noopener" href="https://kaisery.github.io/trpl-zh-cn/">https://kaisery.github.io/trpl-zh-cn/</a></li>
<li>create：<a target="_blank" rel="noopener" href="https://crates.io/">https://crates.io/</a></li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Feynman Loo</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://feynmanloo.github.io/2022/03/29/rust-ji-jian-jiao-cheng/">https://feynmanloo.github.io/2022/03/29/rust-ji-jian-jiao-cheng/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Feynman Loo</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/rust/">
                                    <span class="chip bg-color">rust</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="https://s2.loli.net/2022/03/14/HxlwYSr8JFPAcaK.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="https://s2.loli.net/2022/03/14/392rC1sfgnz4X7u.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'qA5oniJOJvcYU7dcEX7vPVSk-gzGzoHsz',
        appKey: 'NopagKHLuXtpT0WyKgtqmd0n',
        serverURLs: '',
        notify: 'true' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>

<!--酷Q推送-->


    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/04/01/ji-zhu-ren-yuan-zhuan-tuan-dui-guan-li-gai-zen-me-zuo-zhe-pian-wen-zhang-gao-su-ni/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="技术人员转团队管理该怎么做，这篇文章告诉你">
                        
                        <span class="card-title">技术人员转团队管理该怎么做，这篇文章告诉你</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-04-01
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%AE%A1%E7%90%86/" class="post-category">
                                    管理
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E7%AE%A1%E7%90%86/">
                        <span class="chip bg-color">管理</span>
                    </a>
                    
                    <a href="/tags/%E6%8A%80%E6%9C%AF%E7%AE%A1%E7%90%86/">
                        <span class="chip bg-color">技术管理</span>
                    </a>
                    
                    <a href="/tags/%E5%9B%A2%E9%98%9F%E7%AE%A1%E7%90%86/">
                        <span class="chip bg-color">团队管理</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/03/28/yi-pian-wen-zhang-jiang-tou-bei-ke-chuang-xin-zhan-lue-acn-mo-shi/">
                    <div class="card-image">
                        
                        <img src="https://s2.loli.net/2022/03/28/OYPcDBFSpk2X9u3.jpg" class="responsive-img" alt="一篇文章讲透贝壳创新战略“ACN”模式">
                        
                        <span class="card-title">一篇文章讲透贝壳创新战略“ACN”模式</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-03-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%A8%A1%E5%BC%8F/" class="post-category">
                                    模式
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/ACN/">
                        <span class="chip bg-color">ACN</span>
                    </a>
                    
                    <a href="/tags/%E8%B4%9D%E5%A3%B3/">
                        <span class="chip bg-color">贝壳</span>
                    </a>
                    
                    <a href="/tags/%E5%88%9B%E6%96%B0/">
                        <span class="chip bg-color">创新</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2023</span>
            
            <a href="/about" target="_blank">Feynman Loo</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2022";
                        var startMonth = "3";
                        var startDate = "11";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
                <span id="icp"><img src="/medias/icp.png"
                                    style="vertical-align: text-bottom;"/>
                <a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备18140925号-1</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/feynmanloo" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:feynman0919@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=380614767" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 380614767" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
